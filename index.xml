<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>mtik00</title>
    <link>https://mtik00.com/</link>
    <description>Recent content on mtik00</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 30 Jul 2015 15:39:23 -0600</lastBuildDate>
    <atom:link href="https://mtik00.com/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Wordpress XML to Hugo MD</title>
      <link>https://mtik00.com/2015/07/wordpress-xml-to-hugo-md/</link>
      <pubDate>Thu, 30 Jul 2015 15:39:23 -0600</pubDate>
      
      <guid>https://mtik00.com/2015/07/wordpress-xml-to-hugo-md/</guid>
      <description>

&lt;p&gt;I&amp;rsquo;ve had a personal family blog in one form of another since 2002.  For the last 10 years, give or take, I used &lt;a href=&#34;https://wordpress.com/&#34;&gt;WordPress&lt;/a&gt;.  It&amp;rsquo;s a very fine and handy tool; especially for non-technical types.  That&amp;rsquo;s the real issue&amp;hellip; I&amp;rsquo;m a &lt;em&gt;technical type&lt;/em&gt;.  I started looking for something simpler, easier to maintain, and more secure.  That led me to &lt;em&gt;static site generators&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;I won&amp;rsquo;t go into the details, but there &lt;a href=&#34;http://lmgtfy.com/?q=static+site+generators&#34;&gt;are a few to choose from&lt;/a&gt;.  I settled on &lt;a href=&#34;http://gohugo.io/&#34;&gt;Hugo&lt;/a&gt;.  I was mainly interested in it because it seemed easy, was written in &lt;a href=&#34;http://golang.org/&#34;&gt;Go&lt;/a&gt;, and yes, it had a pretty website.&lt;/p&gt;

&lt;h1 id=&#34;the-conversion:689bb1f7ccd933f475db2ace11b77cea&#34;&gt;The Conversion&lt;/h1&gt;

&lt;p&gt;One of the many nice things about WordPress is the ability to export your site into XML (side note, I &lt;em&gt;loath&lt;/em&gt; XML).  There are some examples and script that do the conversion for you, but what fun would that be?  In the process, I learned that:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Most HTML is Markdown compliant (that is, Markdown &amp;ldquo;understands&amp;rdquo; it)&lt;/li&gt;
&lt;li&gt;It&amp;rsquo;s hard to tell an HTML-to-MD converter exactly how you want the HTML parsed.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;On to the script!  &lt;a href=&#34;https://gist.github.com/mtik00/75c8f555b49365395e32&#34;&gt;You can view the script here.&lt;/a&gt;.  I won&amp;rsquo;t go over it in gory detail, but here are the basics.&lt;/p&gt;

&lt;p&gt;WP exports everything, but I was only concerned with the post &lt;code&gt;body&lt;/code&gt;, the date it was published (&lt;code&gt;pubDate&lt;/code&gt;), the &lt;code&gt;category&lt;/code&gt;&amp;rsquo;s (I called them &lt;code&gt;tags&lt;/code&gt; in the script), the &lt;code&gt;title&lt;/code&gt;, and where it should go.  The last part took some predetermined knowledge of how I wanted my Hugo site to be set up (read &lt;a href=&#34;http://gohugo.io/extras/permalinks/&#34;&gt;&lt;code&gt;[permalinks]&lt;/code&gt;&lt;/a&gt;).  If you look at the exported XML file, there are &lt;em&gt;lots&lt;/em&gt; of metadata that I&amp;rsquo;m ignoring (YMMV).&lt;/p&gt;

&lt;pre&gt;
&lt;code class=&#34;python&#34;&gt;    tree = ET.parse(xml_path)
    channel = tree.find(&#34;channel&#34;)
    wp_version_check(channel)

    for post in channel.findall(&#34;item&#34;):
        print &#34;post title:&#34;, post.find(&#34;title&#34;).text&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;WP puts all of the posts in a &amp;lt;channel&amp;gt; element.  Each post is located inside an &amp;lt;item&amp;gt; element.  So far, so good!  Now all we need to do is to loop through each item and grab the data we need.&lt;/p&gt;

&lt;pre&gt;
&lt;code class=&#34;python&#34;&gt;def wp_to_hugo_date(wp_date, tz_direction=-1):
    &#34;&#34;&#34;Converts a UTC time string from the WordPress XML to a Hugo time string.&#34;&#34;&#34;
    date = time.strptime(wp_date, &#34;%a, %d %b %Y %H:%M:%S +0000&#34;)
    date = calendar.timegm(date)
    ltime = time.localtime(date)
    date = time.strftime(&#34;%Y-%m-%dT%H:%M:%S&#34;, ltime)

    date += &#34;%+03i:00&#34; % (((time.timezone / 3600) - (1 * ltime.tm_isdst)) * tz_direction)
    return ltime, date&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I&amp;rsquo;m using this function to convert the &lt;code&gt;pubDate&lt;/code&gt; from WordPress to the format that Hugo uses.  Nothing real special here, although I&amp;rsquo;m sure there&amp;rsquo;s a much better way to calculate the time zone.  The string-formatted &lt;code&gt;pubDate&lt;/code&gt; will go into the posts front matter, and I parse &lt;code&gt;ltime&lt;/code&gt; to figure out where the post should go.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s the basics.  I ran this script on my entire WordPress XML dump (only 90+ pages, nothing too big).  It created all of the Markdown posts full of HTML.  It was up to me to then go in and adjust some of the HTML so it was rendered a little better by Hugo.  Most of my time spent was on downloading images, checking them into Git, and reworking the gallery posts to use my new template (which is awesome, because now I can use &lt;code&gt;{{ gallery path/to/gallery/folder }}&lt;/code&gt; in my markdown).&lt;/p&gt;

&lt;p&gt;The point is, however, I was able to have a fully functioning port of my WordPress blog to Hugo in a matter of hours (the script only took a second to run).  Woot!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Archive Place Holder</title>
      <link>https://mtik00.com/archives/empty/</link>
      <pubDate>Sat, 01 Jan 1972 00:00:02 -0600</pubDate>
      
      <guid>https://mtik00.com/archives/empty/</guid>
      <description></description>
    </item>
    
    <item>
      <title>About Me</title>
      <link>https://mtik00.com/about/</link>
      <pubDate>Sat, 01 Jan 1972 00:00:01 -0600</pubDate>
      
      <guid>https://mtik00.com/about/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been writing software since I figured out how to hack &lt;a href=&#34;https://en.wikipedia.org/wiki/Lemonade_Stand&#34;&gt;Lemonade Stand&lt;/a&gt; back in the late 1970&amp;rsquo;s (ok, &lt;em&gt;writing&lt;/em&gt; is a bit of a stretch).  I absolutely &lt;strong&gt;adored&lt;/strong&gt; my &lt;a href=&#34;https://en.wikipedia.org/wiki/Commodore_64&#34;&gt;Commodore 64&lt;/a&gt;.  Man, those power bricks just didn&amp;rsquo;t last!&lt;/p&gt;

&lt;p&gt;My interest in computers never waned.  I moved on from my C64, to my parents C128 (dual disk drive!  woot!), to a 286, 386, 486, Pentium, and so on.  After a short stint in the military, I moved to Colorado Springs to go to school.&lt;/p&gt;

&lt;p&gt;I graduated from &lt;a href=&#34;http://www.uccs.edu/&#34;&gt;UCCS&lt;/a&gt; in the spring of 1999 with a Bachelors of Electrical Engineering.  I really thought I wanted to be an analog designer.  That dream was short lived!  I soon realized that what truly made me happy was programming.  With that knowledge in hand, I went back to school.&lt;/p&gt;

&lt;p&gt;I graduated from &lt;a href=&#34;http://www.coloradotech.edu/&#34;&gt;CTU&lt;/a&gt; in the spring of 2005 with a Masters of Science in Software Engineering.  I finally had the piece of paper that &lt;em&gt;proved&lt;/em&gt; I could write code.  I left my semiconductor job for a much-more-software-focused job in electrical test equipment (logic analyzers, to be exact).  That worked out great, until they laid me off (no worries, I enjoyed the 3 months severance).&lt;/p&gt;

&lt;p&gt;Luckily, I was hired right away.  I continue to work in the storage industry, but I&amp;rsquo;m happy to say I&amp;rsquo;m 100% software focused!  I&amp;rsquo;ve been writing code to facilitate test automation since 2007 (mainly Python).  I really enjoy the challenge and I love the instant feedback I get since my customers sit right next to me.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>